[
  {
    "version": 1,
    "description": "Create entries table",
    "sql": "CREATE TABLE IF NOT EXISTS entries (id TEXT PRIMARY KEY, date TEXT NOT NULL UNIQUE, title TEXT NOT NULL, content TEXT NOT NULL, location_latitude REAL, location_longitude REAL, location_description TEXT, location_city TEXT, weather_wmo_code INTEGER, weather_description TEXT, weather_temperature_min REAL, weather_temperature_max REAL, created_at TEXT NOT NULL, updated_at TEXT NOT NULL, sync_status TEXT NOT NULL DEFAULT 'uncommitted', synced_sha TEXT)"
  },
  {
    "version": 2,
    "description": "Create entries indexes",
    "sql": "CREATE INDEX IF NOT EXISTS idx_entries_date ON entries(date); CREATE INDEX IF NOT EXISTS idx_entries_sync_status ON entries(sync_status)"
  },
  {
    "version": 3,
    "description": "Create attachments table",
    "sql": "CREATE TABLE IF NOT EXISTS attachments (path TEXT PRIMARY KEY, date TEXT NOT NULL, filename TEXT NOT NULL, sha TEXT NOT NULL, is_downloaded INTEGER NOT NULL DEFAULT 0)"
  },
  {
    "version": 4,
    "description": "Create attachments index",
    "sql": "CREATE INDEX IF NOT EXISTS idx_attachments_date ON attachments(date)"
  },
  {
    "version": 5,
    "description": "Create settings table",
    "sql": "CREATE TABLE IF NOT EXISTS settings (key TEXT PRIMARY KEY, value TEXT NOT NULL)"
  },
  {
    "version": 6,
    "description": "Create debug_logs table",
    "sql": "CREATE TABLE IF NOT EXISTS debug_logs (id INTEGER PRIMARY KEY AUTOINCREMENT, timestamp TEXT NOT NULL, level TEXT NOT NULL, message TEXT NOT NULL, details TEXT)"
  }
]
